<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="火骑小龙龙づ博客 vue mint-ui js html css 前端">
  <meta name="keyword" content="hexo-theme, vuejs">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      ES6语法 | 火骑小龙龙づ博客
    
  </title>
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/gitment.css">
  <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdn.bootcss.com/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
  <script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script>
  
  
    <!-- MathJax support START -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- MathJax support END -->
  


</head>
<div class="wechat-share">
  <img src="/css/images/logo.png">
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>火骑小龙龙づ博客</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags" class="item-link">Tags</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/categories" class="item-link">Categories</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project" class="item-link">Project</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about" class="item-link">About</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags" class="menu-link">Tags</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/categories" class="menu-link">Categories</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project" class="menu-link">Project</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>


    <div id="article-banner">
  <h2>ES6语法</h2>
  <p class="post-date">2017-11-30</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><h3 id="ES6-全称-——-ECMAscript-6"><a href="#ES6-全称-——-ECMAscript-6" class="headerlink" title="ES6 全称 ——  ECMAscript 6"></a>ES6 全称 ——  ECMAscript 6</h3><ul>
<li>在浏览器中符合使用：<ul>
<li>需要用编译器<ul>
<li>babel</li>
<li>traceur  —–有Google出的编译器，把ES6语法编译成ES5 </li>
<li>boostrap —-引导程序  和CSS框架 boostrap不一样</li>
</ul>
</li>
</ul>
</li>
<li>用法1：<ul>
<li>在线编译—-主要用于测试</li>
</ul>
</li>
<li>用法2：<ul>
<li>直接在node里面使用<ul>
<li>直接用，需要添加‘use strict’</li>
<li>node –harmony_desctructuing xx.js  </li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="新增的功能"><a href="#新增的功能" class="headerlink" title="新增的功能"></a>新增的功能</h3><ul>
<li><p>定义变量</p>
<ul>
<li>var a = 12；</li>
<li>let  用来定义变量   let a =12；</li>
<li>let和var 定义变量的区别<ul>
<li>代码块 {}包起来的代码 形成了一个作用域，块级作用域  比如for、if、while</li>
<li>let定义的变量只能在代码块里面使用</li>
<li>var 定义的变量只有函数作用域<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-1.png" alt=""><br><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-2.png" alt=""><br><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-3.png" alt=""><br><br></div></li>
<li>let具备块级作用域   块级作用域就是一个匿名函数立即调用 </li>
<li>let定义的变量不允许重复声明<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-4.png" alt=""><br><br></div></li>
<li>总结：let才接近其他语言的变量</li>
</ul>
</li>
<li>let用处：<ul>
<li>封闭空间<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-5.png" alt=""><br><br></div></li>
<li>let在同作用域中不可以重复定义;</li>
</ul>
</li>
</ul>
</li>
<li><p>定义常量const  一旦被赋值以后就再也不能被修改了</p>
<ul>
<li>注意：const必须给初始值，因为以后就没法赋值了，所以声明的时候一定得有值</li>
<li>不能重复的声明</li>
<li>用途为了防止意外修改变量；比如引入的库名，组件名</li>
</ul>
</li>
<li><p>字符串链接</p>
<ul>
<li>之前：采用”+str+”实现  var str = ‘’ 或者 var str = “”</li>
<li>现在：反单引号  数字1 前边的按键<ul>
<li>var a = <code></code>  字符串模板</li>
<li>${a}就可以<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-6.png" alt=""><br><br></div>
</li>
</ul>
</li>
</ul>
</li>
<li><p>解构赋值</p>
<ul>
<li>var [a,b,c] = [12,5,14]<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-7.png" alt=""><br><br></div></li>
<li>与JSON配合<ul>
<li>var {a,b,c} = {a;12,b;14,c;15}</li>
<li>var {a,b,c} = {b;14,a;12,c;15}  跟顺序无关<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-8.png" alt=""><br><br></div></li>
</ul>
</li>
<li><p>模式匹配:</p>
<ul>
<li>var [a,[b,c],d] = [12,[1,2],5]</li>
<li><p>console.log(a,b,c,d)//12,1,2,5</p>
</li>
<li><p>var [{a,e},[b,c],d] = [{e:’eee’,a:’aaaa’},[1,2],5]</p>
</li>
<li>console.log(a,b,c,d)//aaa,1,2,5,eee<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-9.png" alt=""><br><br></div></li>
<li>json对象的属性名不要修改</li>
</ul>
</li>
<li>解构赋值还可以给个默认值：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123;time=<span class="number">12</span>&#125; = &#123;&#125;  <span class="built_in">console</span>.log(time)  <span class="comment">//12</span></span><br><span class="line"><span class="comment">// 用法：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>（<span class="title">obj</span>，<span class="title">json</span>，<span class="title">options</span>）</span>&#123;</span><br><span class="line">    options = options || &#123;&#125;</span><br><span class="line">    options.time = option.time || <span class="number">300</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span>（<span class="title">obj</span>，<span class="title">json</span>，</span>&#123;time = <span class="number">300</span>&#125; = &#123;&#125;）&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>复制数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr1 = arr </span><br><span class="line">arr1.pop() </span><br><span class="line"><span class="built_in">console</span>.log(arr,arr1)  <span class="comment">// [1,2],[1,2] 引用    方法不可取</span></span><br><span class="line"><span class="comment">// a、循环</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length;i++)&#123;</span><br><span class="line">arr1.push(arr[i])</span><br><span class="line">&#125;</span><br><span class="line">arr.pop()</span><br><span class="line"><span class="built_in">console</span>.log(arr,arr1) <span class="comment">//[1,2],[1,2,3]</span></span><br><span class="line"><span class="comment">// b、Array.from(arr)实现数组复制</span></span><br><span class="line"><span class="keyword">var</span> arr1 = <span class="built_in">Array</span>.from(arr)</span><br><span class="line">arr.pop()</span><br><span class="line"><span class="built_in">console</span>.log(arr,arr1)  <span class="comment">//[1,2],[1,2,3]</span></span><br><span class="line"><span class="comment">// c、var arr1 = [...arr]</span></span><br><span class="line">arr.pop()</span><br><span class="line"><span class="built_in">console</span>.log(arr,arr1)  <span class="comment">//[1,2],[1,2,3]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-10.png" alt=""><br><br></div>

<ul>
<li>循环<ul>
<li>for of 循环  遍历（迭代）整个对象  表现类似于 for in  循环数组和Map对象<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-11.png" alt=""><br><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-12.png" alt=""><br><br></div></li>
<li>for of 循环可以循环数组，不可以循环json <ul>
<li>真正的目的为了循环Map对象</li>
</ul>
</li>
<li>Map对象:<ul>
<li>和json相似，也是一种key-value形式</li>
<li>Map对象为了和for of循环配合<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line"><span class="comment">//设置</span></span><br><span class="line">map.set(name,value<span class="string">')</span></span><br><span class="line"><span class="string">//获取</span></span><br><span class="line"><span class="string">map.get(name)</span></span><br><span class="line"><span class="string">//删除</span></span><br><span class="line"><span class="string">map.delete(name)  //返回值是一个布尔值</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-13.png" alt=""><br></div><br>        - 遍历Map不能使用 for in，没有效果  使用 for of<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>（<span class="keyword">var</span> name <span class="keyword">of</span> map）&#123;</span><br><span class="line">    <span class="built_in">console</span>.log（name）</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>（<span class="keyword">var</span> [key,value] <span class="keyword">of</span> map）&#123;</span><br><span class="line">    <span class="built_in">console</span>.log（key,value）</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>        - 默认循环的是<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>（<span class="keyword">var</span> name <span class="keyword">of</span> map.entries（））&#123;</span><br><span class="line">    <span class="built_in">console</span>.log（name）</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>（<span class="keyword">var</span> [key,value] <span class="keyword">of</span> map.entries（））&#123;</span><br><span class="line">    <span class="built_in">console</span>.log（key,value）</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>        - 循环只输出单个  key  或 value<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>（<span class="keyword">var</span> key <span class="keyword">of</span> map.keys（））&#123;</span><br><span class="line">    <span class="built_in">console</span>.log（key）<span class="comment">//a,b,c,d</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>（<span class="keyword">var</span> val <span class="keyword">of</span> map.values（））&#123;</span><br><span class="line">    <span class="built_in">console</span>.log（val）</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>    - for of 循环 数组  默认循环的是值，要想循环缩影 for（var key of arr.keys())<br>    - 索引和值都循环：for (var some of arr.entries()){}<br><br>- 箭头函数<br>    - 注意：<br>        - this问题  this指向的是window<br>        -  arguments是不可以使用的<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> json = &#123;</span><br><span class="line">    a:<span class="number">2</span>,</span><br><span class="line">    b:<span class="number">3</span>,</span><br><span class="line">    show:<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)<span class="comment">//报错  undefined</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">json.show();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line">show()<span class="comment">//[1,2,3]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span>  show = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line">show(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)<span class="comment">//arguments is not defined</span></span><br></pre></td></tr></table></figure><br><br>- 对象<br>    - 对象语法简洁化<br>    - 单体模式<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'ls'</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">101</span>;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name,</span><br><span class="line">    age,</span><br><span class="line">    showName()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">    &#125;,</span><br><span class="line">    showAge()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(person.showName())</span><br></pre></td></tr></table></figure><br><br>    - 面向对象<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// es6之前</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;  <span class="comment">//即是类  又是构造函数</span></span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.showAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.age</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'abc'</span>,<span class="number">101</span>)</span><br><span class="line"><span class="built_in">console</span>.log(p1.showName())</span><br></pre></td></tr></table></figure><br><br><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6中彻底区分开了</span></span><br><span class="line"><span class="comment">// 	  类class</span></span><br><span class="line"><span class="comment">// 	  构造函数 constructor  生成完实例以后，就自己执行的函数</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;  <span class="comment">//这才是一个真正的类</span></span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age</span><br><span class="line">    &#125;</span><br><span class="line">    showName()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">    showAge()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'aaa'</span>,<span class="number">101</span>)</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">'bbb'</span>,<span class="number">102</span>)</span><br><span class="line"><span class="built_in">console</span>.log(p1.name)</span><br><span class="line"><span class="built_in">console</span>.log(p1.showName())</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p1.showName == p2.showName) <span class="comment">//true</span></span><br><span class="line">p1.constructor == Person  <span class="comment">//true</span></span><br></pre></td></tr></table></figure><br><br>    - 函数给默认值<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj=<span class="string">'对象是必须要填的'</span>,json,options</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj)</span><br><span class="line">&#125;</span><br><span class="line">move()<span class="comment">// 对象是必须要填的</span></span><br></pre></td></tr></table></figure><br><br>- 继承<br>    - 原型继承<br><div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-14.png" alt=""><br></div>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Worker</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    Person.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line">Worker.prototype = <span class="keyword">new</span> Person()</span><br><span class="line"><span class="keyword">var</span> w1 = <span class="keyword">new</span> Worker(<span class="string">'aaa'</span>,<span class="number">101</span>)</span><br><span class="line"><span class="built_in">console</span>.log(w1.showName())<span class="comment">//aaa</span></span><br></pre></td></tr></table></figure>
<pre><code>- es6之前  子类.prototype = new 父类();
- ES6  继承  class Worker extends Person{}
</code></pre><div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-15.png" alt=""><br></div>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Worker</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>()&#123;</span><br><span class="line">        <span class="keyword">super</span>()<span class="comment">//再次调用父级构造</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-16.png" alt=""><br></div><br>    - 应用：队列类<br><div align="center"><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-17.png" alt=""><br><br><img src="https://taoaiyi1108.oss-cn-beijing.aliyuncs.com/post/es6/es6-18.png" alt=""><br></div>

<ul>
<li><p>模块化：</p>
<ul>
<li>seajs    requirejs</li>
<li>ES6 自带模块化   <code>----必须引入 traceur.js 和 boostrap.js  &lt;script type = &#39;module&#39;&gt;&lt;/script&gt;</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如何定义（导出）模块：</span></span><br><span class="line"><span class="keyword">const</span> a =<span class="number">12</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> a ;</span><br><span class="line"></span><br><span class="line"><span class="comment">//导出多个模块</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">13</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;a,b&#125;  </span><br><span class="line"><span class="comment">//如何使用（引用）：</span></span><br><span class="line"><span class="keyword">import</span> modA <span class="keyword">from</span> <span class="string">'./a.js'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Promise    承诺的意思</p>
<ul>
<li>就是一个对象，用来去传递异步操作的数据（消息）</li>
<li><p>异步：多个操作可以同时进行  Ajax  </p>
<ul>
<li>pending（等待，处理中）—&gt; Resolve（完成、fullFiled）—&gt;Rejected（拒绝，失败）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;   <span class="comment">//  回调函数会立即执行</span></span><br><span class="line">    <span class="comment">//resolve 成功了</span></span><br><span class="line">    <span class="comment">//reject 失败了</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(异步处理成功了)&#123;</span><br><span class="line">        resolve(成功的数据)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        reject(失败的原因)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">p1.then(成功(resolve),失败(reject))  <span class="comment">//返回的还是一个Promise对象 可以继续往后走</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>案例：</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;   <span class="comment">//  回调函数会立即执行</span></span><br><span class="line">    resolve（<span class="number">1</span>）</span><br><span class="line">&#125;)；</span><br><span class="line">p1.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;  <span class="comment">//value 数据</span></span><br><span class="line">        alert(<span class="string">'成功了'</span>+ value)</span><br><span class="line">    &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">"失败了"</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;   <span class="comment">//  回调函数会立即执行</span></span><br><span class="line">    reject（<span class="number">2</span>）</span><br><span class="line">&#125;)；</span><br><span class="line">p1.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;  <span class="comment">//value 数据</span></span><br><span class="line">        alert(<span class="string">'成功了'</span>+ value)</span><br><span class="line">    &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">"失败了"</span>+ value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;   <span class="comment">//  回调函数会立即执行</span></span><br><span class="line">    resolve（<span class="number">1</span>）</span><br><span class="line">&#125;)；</span><br><span class="line">p1.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;  <span class="comment">//value 数据</span></span><br><span class="line">    <span class="keyword">return</span> value +<span class="number">1</span>；</span><br><span class="line">    &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">"失败了"</span>)</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(value) <span class="comment">// 此处的value就是 上一个成功return的数据</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>catch    —&gt;用来捕获错误</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">	resolve(<span class="string">'成功了'</span>)</span><br><span class="line">&#125;)</span><br><span class="line">p1.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(value)</span><br><span class="line">	<span class="keyword">throw</span> <span class="string">'出现错误了'</span>   <span class="comment">//抛出错误的</span></span><br><span class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(e)</span><br><span class="line">&#125;)  <span class="comment">//  成功了  出现错误了</span></span><br></pre></td></tr></table></figure>
<ul>
<li>all —-全部  用于将多个promise对象组合，包装成一个全新的promise实例<ul>
<li>用法：Promise.all([p1,p2,p3])<ul>
<li>所有的promise对象都正确走成功，否则只要有一个错误，是失败了</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="built_in">Promise</span>.reject(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">Promise</span>.all([<span class="literal">true</span>,p1,p2]).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'成功了'</span>+value)</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'错误了'</span>+value)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>race   ————返回也是一个promise对象<ul>
<li>最先能执行的promise结果  哪个最快就用哪个</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    setTimeout(resolve,<span class="number">500</span>,<span class="string">'one'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    setTimeout(resolve,<span class="number">100</span>,<span class="string">'two'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Promise</span>.race([p1,p2]).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value) <span class="comment">//two</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>reject   resolve<ul>
<li>Promise.reject()    生成一个错误的promise对象</li>
<li>Promise.resolve()   生成一个成功的promise对象</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.reject(<span class="string">'这是错误的信息'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)  <span class="comment">//这是错误的信息</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>Promise.resolve()<ul>
<li>语法： Promise.resolve(value)</li>
<li>Promise.resolve(promise)</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="built_in">Promise</span>.resolve(p1)</span><br><span class="line">p2.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value)	<span class="comment">//3</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</section>
    <!-- Tags START -->
    
      <div class="tags">
        <span>Tags:</span>
        
  <a href="/tags#es6">
    <span class="tag-code">es6</span>
  </a>

      </div>
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a class="nav-left" href="/2017/11/30/biancheng/php/php/">
        <span class="nav-arrow">← </span>
        
          php
        
      </a>
    
    
      <a class="nav-right" href="/2017/11/30/biancheng/js-object/js-object/">
        
          面向对象总结
        
        <span class="nav-arrow"> →</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!-- 打赏 START -->
    
    <!-- 打赏 END -->
    <!-- 二维码 START -->
    
      <div class="qrcode">
        <canvas id="share-qrcode"></canvas>
        <p class="notice">扫描二维码，分享此文章</p>
      </div>
    
    <!-- 二维码 END -->
    
      <!-- No Comment -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'http://taoaiyi1108.github.io/2017/11/30/biancheng/es6/es6/';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

     // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()
        
        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })

    // qrcode
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });

    // gitment
    var gitmentConfig = "taoaiyi1108";
    if (gitmentConfig !== 'undefined') {
      var gitment = new Gitment({
        id: "ES6语法",
        owner: "taoaiyi1108",
        repo: "taoaiyi1108.github.io",
        oauth: {
          client_id: "0f87e490e00ee3fd87ef",
          client_secret: "4a9d2b148e7971c2201ad12131ce8bf8159ccd2e"
        },
        theme: {
          render(state, instance) {
            const container = document.createElement('div')
            container.lang = "en-US"
            container.className = 'gitment-container gitment-root-container'
            container.appendChild(instance.renderHeader(state, instance))
            container.appendChild(instance.renderEditor(state, instance))
            container.appendChild(instance.renderComments(state, instance))
            container.appendChild(instance.renderFooter(state, instance))
            return container;
          }
        }
      })
      gitment.render(document.getElementById('comments'))
    }
  })();
</script>

<script>
  var disqus_shortname = '';
  
  var disqus_url = 'http://taoaiyi1108.github.io/2017/11/30/biancheng/es6/es6/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2020 火骑小龙龙 | Proudly powered by <a href="https://hexo.io" target="_blank">Hexo</a>
    <br>
    感谢大神 <a href="https://github.com/yanm1ng" target="_blank">yanm1ng</a> 对本博客的技术支持
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->

<script src="/js/script.js"></script>
  </body>
</html>